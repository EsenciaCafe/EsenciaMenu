<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esencia — Editor de Carta</title>
  <meta name="theme-color" content="#ffffff" />
  <meta name="description" content="Editor de la carta de Esencia (privado)" />
  <link rel="stylesheet" href="../styles.css" />
  <style>
    /* Ajustes mínimos para UI del editor */
    .admin-bar{
      max-width:980px; margin:12px auto 0; padding:8px 16px;
      display:flex; gap:8px; align-items:center; justify-content:space-between;
    }
    .btn{
      display:inline-flex; align-items:center; gap:6px;
      padding:.55rem .8rem; border-radius:10px; border:1px solid var(--line);
      background:#fff; cursor:pointer; font-size:.95rem;
      box-shadow: var(--elev1);
    }
    .btn.accent{ background:var(--chip); border-color:var(--accent); }
    .btn.danger{ background:#fff5f5; border-color:#fca5a5; color:#b91c1c; }
    .kvs{ display:grid; grid-template-columns:140px 1fr; gap:6px; margin:8px 0; }
    .kvs label{ color:var(--muted); }
    .row-actions{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
    .muted-small{ color:var(--muted); font-size:.85rem }
    .fieldset{ border:1px solid var(--line); border-radius:12px; padding:10px; background:#fff }
    .stack{ display:grid; gap:10px }
    .hide{ display:none !important }
    .two{ display:grid; gap:12px; grid-template-columns:1fr 1fr }
    @media (max-width:720px){ .two{ grid-template-columns:1fr } }
    .section .title .right{ float:right; font-weight:600 }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <span class="logo">Esencia — <span style="font-weight:600">Editor</span></span>
      <span class="tag">Gestiona categorías, secciones, artículos y precios</span>
    </div>
    <nav id="nav" class="nav"></nav>
  </header>

  <div class="admin-bar">
    <div id="auth-status" class="muted-small">No autenticado</div>
    <div class="row-actions">
      <button id="btn-add-section" class="btn accent">+ Sección</button>
      <button id="btn-logout" class="btn">Cerrar sesión</button>
    </div>
  </div>

  <main id="app" class="container" aria-live="polite">
    <!-- Login form (se muestra si no hay sesión) -->
    <section id="login" class="section">
      <h2>Acceso</h2>
      <div class="fieldset stack" style="max-width:420px">
        <div class="kvs">
          <label for="email">Email</label>
          <input id="email" type="email" placeholder="tu@correo.com" style="padding:.6rem .7rem; border:1px solid var(--line); border-radius:10px">
        </div>
        <div class="kvs">
          <label for="password">Contraseña</label>
          <input id="password" type="password" placeholder="••••••••" style="padding:.6rem .7rem; border:1px solid var(--line); border-radius:10px">
        </div>
        <div>
          <button id="btn-login" class="btn accent">Entrar</button>
        </div>
        <div class="muted-small">Necesitas una cuenta creada en Firebase Auth.</div>
      </div>
    </section>

    <!-- Editor (se muestra si hay sesión) -->
    <section id="editor" class="section hide">
      <h2 id="group-title">Editor</h2>
      <div id="sections"></div>
    </section>
  </main>

  <footer class="site-footer">
    <small>Privado — Solo personal autorizado</small>
  </footer>

  <noscript>
    <div class="container" style="padding:12px; border:1px solid var(--line); border-radius:12px; background:#fff8f0; color:#92400e;">
      Necesitas activar JavaScript para usar el editor.
    </div>
  </noscript>

  <script type="module" src="./admin.js"></script>
</body>
</html>
